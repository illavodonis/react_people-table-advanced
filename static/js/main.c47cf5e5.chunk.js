(this["webpackJsonpreact_people-table-advanced"]=this["webpackJsonpreact_people-table-advanced"]||[]).push([[0],{21:function(e,t,c){},24:function(e,t,c){},25:function(e,t,c){},28:function(e,t,c){"use strict";c.r(t);var s=c(14),n=c.n(s),r=c(3),a=(c(20),c(2)),i=(c(21),c(0)),o=function(){var e=Object(a.f)().search;return Object(i.jsx)("nav",{className:"navbar",children:Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)("div",{className:"navbar-brand",children:Object(i.jsx)(r.b,{className:"navbar-item",to:"/home",children:Object(i.jsx)("span",{className:"is-size-1",children:"Home"})})}),Object(i.jsx)("div",{id:"navbarMenuHeroB",className:"navbar-menu",children:Object(i.jsxs)("div",{className:"navbar-end",children:[Object(i.jsx)(r.c,{to:"/",className:function(e){return e.isActive?"navbar-item is-active":"navbar-item"},children:"Home page"}),Object(i.jsx)(r.c,{to:{pathname:"people",search:e},className:function(e){return e.isActive?"navbar-item is-active":"navbar-item"},children:"People"})]})})]})})},l=c(1),j=function(){return Object(i.jsx)("div",{className:"hero-body",children:Object(i.jsxs)("div",{className:"container has-text-centered",children:[Object(i.jsx)("p",{className:"title",children:"People Population"}),Object(i.jsx)("p",{className:"subtitle",children:Object(i.jsx)(r.b,{to:"/people",children:"Start"})})]})})},b=function(){return Object(i.jsx)("div",{className:"hero-body",children:Object(i.jsxs)("div",{className:"container has-text-centered",children:[Object(i.jsx)("h2",{className:"title is-size-1",children:"Ooops !!!"}),Object(i.jsx)("p",{className:"subtitle",children:"Page not found"})]})})},d=c(13),u=c(10),h=c(4),O=c(8),m=c.n(O),x=function(){var e=Object(u.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://mate-academy.github.io/react_people-table/api/people.json");case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Response.error());case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),p=(c(24),function(){return Object(i.jsx)("div",{className:"Loader",children:Object(i.jsx)("div",{className:"Loader__content"})})}),f=c(11),g=(c(25),c(6)),v=c.n(g),N=function(e){var t=e.person,c=Object(a.f)().search;return Object(i.jsx)(r.b,{to:{pathname:"/people/".concat(t.slug),search:c},className:v()({"has-text-danger":"f"===t.sex,"has-text-info":"m"===t.sex}),children:t.name})},y=function(e){var t=e.person,c=Object(a.h)().slug;return Object(i.jsxs)("tr",{className:v()({"has-background-warning":t.slug===c}),children:[Object(i.jsx)("td",{children:Object(i.jsx)(N,{person:t})}),Object(i.jsx)("td",{children:t.sex}),Object(i.jsx)("td",{children:t.born}),Object(i.jsx)("td",{children:t.died}),Object(i.jsx)("td",{children:t.mother?Object(i.jsx)(N,{person:t.mother}):Object(i.jsx)("b",{children:t.motherName})}),Object(i.jsx)("td",{children:t.father?Object(i.jsx)(N,{person:t.father}):Object(i.jsx)("b",{children:t.motherName})})]})},S=c(15),C=c.n(S);function k(e,t){var c=new URLSearchParams(e.toString());return Object.entries(t).forEach((function(e){var t=Object(h.a)(e,2),s=t[0],n=t[1];null===n?c.delete(s):Array.isArray(n)?(c.delete(s),n.forEach((function(e){c.append(s,e)}))):c.set(s,n)})),c.toString()}var _=function(){var e=Object(r.d)(),t=Object(h.a)(e,2),c=t[0],s=t[1],n=Object(l.useState)(""),a=Object(h.a)(n,2),o=a[0],j=a[1],b=Object(l.useCallback)(C.a.debounce((function(e){s(k(c,{query:e}))}),500),[]);return Object(i.jsx)("div",{className:"panel-block",children:Object(i.jsxs)("p",{className:"control has-icons-left",children:[Object(i.jsx)("input",{className:"input",type:"text",placeholder:"Search",value:o,onChange:function(e){j(e.target.value),b(o)}}),Object(i.jsx)("span",{className:"icon is-left",children:Object(i.jsx)("i",{className:"fas fa-search","aria-hidden":"true"})})]})})},w=["16","17","18","19","20"],L=function(){var e=Object(r.d)(),t=Object(h.a)(e,2),c=t[0],s=t[1],n=c.getAll("centuries");return Object(i.jsx)("div",{className:"panel-block is-flex-direction-column",children:Object(i.jsxs)("div",{className:"buttons is-justify-content-center",children:[w.map((function(e){return Object(i.jsx)("button",{type:"button",className:v()("button",{"is-success":n.includes(e)}),onClick:function(){return s(k(c,{centuries:n.includes(e)?n.filter((function(t){return t!==e})):[].concat(Object(f.a)(n),[e])}))},children:e},e)})),Object(i.jsx)("button",{type:"button",className:v()("button",{"is-success":0===n.length}),onClick:function(){return s(k(c,{centuries:[]}))},children:"Show All"})]})})},A=function(){var e=Object(r.d)(),t=Object(h.a)(e,1)[0],c=t.get("sex");return Object(i.jsxs)("p",{className:"panel-tabs",children:[Object(i.jsx)(r.b,{to:{search:k(t,{sex:""})},className:v()({"is-active":!c}),children:"All"}),Object(i.jsx)(r.b,{to:{search:k(t,{sex:"m"})},className:v()({"is-active":"m"===c}),children:"Male"}),Object(i.jsx)(r.b,{to:{search:k(t,{sex:"f"})},className:v()({"is-active":"f"===c}),children:"Female"})]})},B=function(e){var t=e.people,c=Object(l.useState)(t),s=Object(h.a)(c,2),n=s[0],a=s[1],o=Object(r.d)(),j=Object(h.a)(o,2),b=j[0],d=j[1],u=b.getAll("centuries")||[],O=b.get("sex")||"",m=b.get("query")||"",x=b.get("sortOrder")||"",p=b.get("sortBy")||"",g=Object(f.a)(n);if(O&&(g=g.filter((function(e){return e.sex===O}))),m){var v=m.toLocaleLowerCase();g=g.filter((function(e){return e.name.toLocaleLowerCase().includes(v)||e.motherName&&e.motherName.toLocaleLowerCase().includes(v)||e.fatherName&&e.fatherName.toLocaleLowerCase().includes(v)}))}if(0!==u.length&&(g=g.filter((function(e){return u.includes(Math.ceil(e.born/100).toString())}))),p)switch(p){case"name":case"sex":g.sort((function(e,t){return"asc"===x?e[p].localeCompare(t[p]):t[p].localeCompare(e[p])}));break;case"born":case"died":g.sort((function(e,t){return"asc"===x?Number(e[p])-Number(t[p]):Number(t[p])-Number(e[p])}))}var N=function(e){e&&""===x&&d(k(b,{sortOrder:"asc",sortBy:e})),e&&"desc"===x&&d(k(b,{sortOrder:"asc",sortBy:e})),e&&"asc"===x&&d(k(b,{sortOrder:"desc",sortBy:e}))};return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"block",children:Object(i.jsxs)("nav",{className:"panel",children:[Object(i.jsx)("p",{className:"panel-heading",children:"Filters"}),Object(i.jsx)(A,{}),Object(i.jsx)(_,{}),Object(i.jsx)(L,{}),Object(i.jsx)("div",{className:"panel-block",children:Object(i.jsx)(r.b,{to:"/people",type:"button",className:"button is-primary is-rounded is-fullwidth",onClick:function(){d(""),a(t)},children:"Reset all filters"})})]})}),Object(i.jsxs)("table",{className:"table",children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsxs)("th",{onClick:function(e){N(e.currentTarget.textContent)},children:[Object(i.jsx)("span",{children:"name"}),x&&"name"===p?"asc"===x&&"name"===p?Object(i.jsx)("img",{src:"images/sort_asc.png",alt:"Sort ascending"}):Object(i.jsx)("img",{src:"images/sort_desc.png",alt:"Sort"}):Object(i.jsx)("img",{src:"images/sort_both.png",alt:"Not Sort"})]}),Object(i.jsxs)("th",{onClick:function(e){N(e.currentTarget.textContent)},children:[Object(i.jsx)("span",{children:"sex"}),x&&"sex"===p?"asc"===x&&"sex"===p?Object(i.jsx)("img",{src:"images/sort_asc.png",alt:"Sort ascending"}):Object(i.jsx)("img",{src:"images/sort_desc.png",alt:"Sort descending"}):Object(i.jsx)("img",{src:"images/sort_both.png",alt:"Not Sort"})]}),Object(i.jsxs)("th",{onClick:function(e){N(e.currentTarget.textContent)},children:[Object(i.jsx)("span",{children:"born"}),x&&"born"===p?"asc"===x&&"born"===p?Object(i.jsx)("img",{src:"images/sort_asc.png",alt:"Sort ascending"}):Object(i.jsx)("img",{src:"images/sort_desc.png",alt:"Sort"}):Object(i.jsx)("img",{src:"images/sort_both.png",alt:"Not Sort"})]}),Object(i.jsxs)("th",{onClick:function(e){N(e.currentTarget.textContent)},children:[Object(i.jsx)("span",{children:"died"}),x&&"died"===p?"asc"===x&&"died"===p?Object(i.jsx)("img",{src:"images/sort_asc.png",alt:"Sort ascending"}):Object(i.jsx)("img",{src:"images/sort_desc.png",alt:"Sort"}):Object(i.jsx)("img",{src:"images/sort_both.png",alt:"Not Sort"})]}),Object(i.jsx)("th",{children:"mother"}),Object(i.jsx)("th",{children:"father"})]})}),Object(i.jsx)("tbody",{children:g.map((function(e){return Object(i.jsx)(y,{person:e},e.slug)}))})]})]})},P=function(){var e=Object(l.useState)([]),t=Object(h.a)(e,2),c=t[0],s=t[1];function n(){return(n=Object(u.a)(m.a.mark((function e(){var t,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:t=e.sent,Array.isArray(t)&&(c=t.map((function(e,t,c){var s=c.find((function(t){return t.name===e.motherName})),n=c.find((function(t){return t.name===e.fatherName}));return Object(d.a)(Object(d.a)({},e),{},{mother:s||null,father:n||null})})),s(c));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(l.useEffect)((function(){!function(){n.apply(this,arguments)}()}),[]),Object(i.jsx)("div",{className:"container",children:0===c.length?Object(i.jsx)(p,{}):Object(i.jsx)(B,{people:c})})},E=function(){return Object(i.jsxs)("section",{className:"hero is-info is-fullheight",children:[Object(i.jsx)("div",{className:"hero-head",children:Object(i.jsx)(o,{})}),Object(i.jsxs)(a.d,{children:[Object(i.jsx)(a.b,{path:"/",element:Object(i.jsx)(j,{})}),Object(i.jsx)(a.b,{path:"home",element:Object(i.jsx)(a.a,{to:"/"})}),Object(i.jsxs)(a.b,{path:"people",children:[Object(i.jsx)(a.b,{index:!0,element:Object(i.jsx)(P,{})}),Object(i.jsx)(a.b,{path:":slug",element:Object(i.jsx)(P,{})})]}),Object(i.jsx)(a.b,{path:"*",element:Object(i.jsx)(b,{})})]})]})};n.a.render(Object(i.jsx)(r.a,{children:Object(i.jsx)(E,{})}),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.c47cf5e5.chunk.js.map